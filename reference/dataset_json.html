<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create a Dataset JSON Object — dataset_json • datasetjson</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create a Dataset JSON Object — dataset_json"><meta name="description" content="Create the base object used to write a Dataset JSON file."><meta property="og:description" content="Create the base object used to write a Dataset JSON file."><meta property="og:image" content="https://atorus-research.github.io/datasetjson/logo.svg"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@AtorusR"><meta name="twitter:site" content="@AtorusR"><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-165685385-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-165685385-2');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">datasetjson</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/datasetjson.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Vignettes</h6></li>
    <li><a class="dropdown-item" href="../articles/date_time_datetime.html">Dates, Times, and Datetimes</a></li>
    <li><a class="dropdown-item" href="../articles/converting_files.html">Converting from XPT</a></li>
    <li><a class="dropdown-item" href="../articles/odm_details.html">Notes on ODM V2</a></li>
    <li><a class="dropdown-item" href="../articles/precision.html">Numeric Precision</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/atorus-research/datasetjson" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Create a Dataset JSON Object</h1>
      <small class="dont-index">Source: <a href="https://github.com/atorus-research/datasetjson/blob/main/R/datasetjson.R" class="external-link"><code>R/datasetjson.R</code></a></small>
      <div class="d-none name"><code>dataset_json.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Create the base object used to write a Dataset JSON file.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dataset_json</span><span class="op">(</span></span>
<span>  <span class="va">.data</span>,</span>
<span>  file_oid <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  last_modified <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  originator <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sys <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sys_version <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  study <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  metadata_version <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  metadata_ref <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  item_oid <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dataset_label <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  columns <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  version <span class="op">=</span> <span class="st">"1.1.0"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--data">.data<a class="anchor" aria-label="anchor" href="#arg--data"></a></dt>
<dd><p>Input data to contain within the Dataset JSON file. Written to
the itemData parameter.</p></dd>


<dt id="arg-file-oid">file_oid<a class="anchor" aria-label="anchor" href="#arg-file-oid"></a></dt>
<dd><p>fileOID parameter, defined as "A unique identifier for this
file." (optional)</p></dd>


<dt id="arg-last-modified">last_modified<a class="anchor" aria-label="anchor" href="#arg-last-modified"></a></dt>
<dd><p>The date/time the source database was last modified
before creating the Dataset-JSON file (optional)</p></dd>


<dt id="arg-originator">originator<a class="anchor" aria-label="anchor" href="#arg-originator"></a></dt>
<dd><p>originator parameter, defined as "The organization that
generated the Dataset-JSON file." (optional)</p></dd>


<dt id="arg-sys">sys<a class="anchor" aria-label="anchor" href="#arg-sys"></a></dt>
<dd><p>sourceSystem.name parameter, defined as "The computer system or
database management system that is the source of the information in this
file." (Optional, required if coupled with sys_version)</p></dd>


<dt id="arg-sys-version">sys_version<a class="anchor" aria-label="anchor" href="#arg-sys-version"></a></dt>
<dd><p>sourceSystem.Version, defined as "The version of the
sourceSystem" (Optional, required if coupled with sys)</p></dd>


<dt id="arg-study">study<a class="anchor" aria-label="anchor" href="#arg-study"></a></dt>
<dd><p>Study OID value (optional)</p></dd>


<dt id="arg-metadata-version">metadata_version<a class="anchor" aria-label="anchor" href="#arg-metadata-version"></a></dt>
<dd><p>Metadata version OID value (optional)</p></dd>


<dt id="arg-metadata-ref">metadata_ref<a class="anchor" aria-label="anchor" href="#arg-metadata-ref"></a></dt>
<dd><p>Metadata reference (i.e. path to Define.xml) (optional)</p></dd>


<dt id="arg-item-oid">item_oid<a class="anchor" aria-label="anchor" href="#arg-item-oid"></a></dt>
<dd><p>ID used to label dataset with the itemGroupData parameter.
Defined as "Object of Datasets. Key value is a unique identifier for
Dataset, corresponding to ItemGroupDef/@OID in Define-XML."</p></dd>


<dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>Dataset name</p></dd>


<dt id="arg-dataset-label">dataset_label<a class="anchor" aria-label="anchor" href="#arg-dataset-label"></a></dt>
<dd><p>Dataset Label</p></dd>


<dt id="arg-columns">columns<a class="anchor" aria-label="anchor" href="#arg-columns"></a></dt>
<dd><p>Variable level metadata for the Dataset JSON object. See
details for format requirements.</p></dd>


<dt id="arg-version">version<a class="anchor" aria-label="anchor" href="#arg-version"></a></dt>
<dd><p>The DatasetJSON version to use. Currently only 1.1.0 is
supported.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>dataset_json object pertaining to the specific Dataset JSON version
specific</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The <code>columns</code> parameter should be provided as a dataframe based off the
Dataset JSON Specification:</p><ul><li><p><strong>itemOID</strong>: <em>string, required</em>: Unique identifier for the variable that may also
function as a foreign key to an ItemDef/@OID in an associated Define-XML
file. See the <a href="https://wiki.cdisc.org/display/PUB/Element+Identifiers+and+References" class="external-link">ODM specification</a>
for OID considerations.</p></li>
<li><p><strong>name</strong>: <em>string, required</em>: Variable name</p></li>
<li><p><strong>label</strong>: <em>string, required</em>: Variable label</p></li>
<li><p><strong>dataType</strong>: <em>string, required</em>: Logical data type of the variable. The dataType
attribute represents the planned specificity of the data. See the <a href="https://wiki.cdisc.org/display/PUB/Data+Formats" class="external-link">ODM Data Formats specification</a> for
details.
-<strong>targetDataType</strong>: <em>string, optional</em>: Indicates the data type into which
the receiving system must transform the associated Dataset-JSON variable. The
variable with the data type attribute of dataType must be converted into the
targetDataType when transforming the Dataset-JSON dataset into a format for
operational use (e.g., SAS dataset, R dataframe, loading into a system's data
store). Only specify targetDataType when it is different from the dataType
attribute or the JSON data type and the data needs to be transformed by the
receiving system. See the Supported Column Data Type Combinations table for
details on usage. See the User's Guide for additional information.</p></li>
<li><p><strong>length</strong>: <em>integer, optional</em>: Specifies the number of characters
allowed for the variable value when it is represented as a text.</p></li>
<li><p><strong>displayFormat</strong>: *string, optional: A SAS display format value used for
data visualization of numeric float and date values.</p></li>
<li><p><strong>keySequence</strong>: <em>integer, optional</em>: Indicates that this item is a key
variable in the dataset structure. It also provides an ordering for the keys.</p></li>
</ul><p>Note that DatasetJSON is on version 1.1.0. Based off findings from the pilot,
version 1.1.0 reflects feedback from the user community. Support for 1.0.0
has been deprecated.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Create a basic object</span></span></span>
<span class="r-in"><span><span class="va">ds_json</span> <span class="op">&lt;-</span> <span class="fu">dataset_json</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">iris</span>,</span></span>
<span class="r-in"><span>  file_oid <span class="op">=</span> <span class="st">"/some/path"</span>,</span></span>
<span class="r-in"><span>  last_modified <span class="op">=</span> <span class="st">"2023-02-15T10:23:15"</span>,</span></span>
<span class="r-in"><span>  originator <span class="op">=</span> <span class="st">"Some Org"</span>,</span></span>
<span class="r-in"><span>  sys <span class="op">=</span> <span class="st">"source system"</span>,</span></span>
<span class="r-in"><span>  sys_version <span class="op">=</span> <span class="st">"1.0"</span>,</span></span>
<span class="r-in"><span>  study <span class="op">=</span> <span class="st">"SOMESTUDY"</span>,</span></span>
<span class="r-in"><span>  metadata_version <span class="op">=</span> <span class="st">"MDV.MSGv2.0.SDTMIG.3.3.SDTM.1.7"</span>,</span></span>
<span class="r-in"><span>  metadata_ref <span class="op">=</span> <span class="st">"some/define.xml"</span>,</span></span>
<span class="r-in"><span>  item_oid <span class="op">=</span> <span class="st">"IG.IRIS"</span>,</span></span>
<span class="r-in"><span>  name <span class="op">=</span> <span class="st">"IRIS"</span>,</span></span>
<span class="r-in"><span>  dataset_label <span class="op">=</span> <span class="st">"Iris"</span>,</span></span>
<span class="r-in"><span>  columns <span class="op">=</span> <span class="va">iris_items</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Attach attributes directly</span></span></span>
<span class="r-in"><span><span class="va">ds_json</span> <span class="op">&lt;-</span> <span class="fu">dataset_json</span><span class="op">(</span><span class="va">iris</span>, columns <span class="op">=</span> <span class="va">iris_items</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ds_json</span> <span class="op">&lt;-</span> <span class="fu"><a href="dataset_metadata_setters.html">set_file_oid</a></span><span class="op">(</span><span class="va">ds_json</span>, <span class="st">"/some/path"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ds_json</span> <span class="op">&lt;-</span> <span class="fu"><a href="dataset_metadata_setters.html">set_last_modified</a></span><span class="op">(</span><span class="va">ds_json</span>, <span class="st">"2025-01-21T13:34:50"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ds_json</span> <span class="op">&lt;-</span> <span class="fu"><a href="dataset_metadata_setters.html">set_originator</a></span><span class="op">(</span><span class="va">ds_json</span>, <span class="st">"Some Org"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ds_json</span> <span class="op">&lt;-</span> <span class="fu"><a href="dataset_metadata_setters.html">set_source_system</a></span><span class="op">(</span><span class="va">ds_json</span>, <span class="st">"source system"</span>, <span class="st">"1.0"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ds_json</span> <span class="op">&lt;-</span> <span class="fu"><a href="dataset_metadata_setters.html">set_study_oid</a></span><span class="op">(</span><span class="va">ds_json</span>, <span class="st">"SOMESTUDY"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ds_json</span> <span class="op">&lt;-</span> <span class="fu"><a href="dataset_metadata_setters.html">set_metadata_ref</a></span><span class="op">(</span><span class="va">ds_json</span>, <span class="st">"some/define.xml"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ds_json</span> <span class="op">&lt;-</span> <span class="fu"><a href="dataset_metadata_setters.html">set_metadata_version</a></span><span class="op">(</span><span class="va">ds_json</span>, <span class="st">"MDV.MSGv2.0.SDTMIG.3.3.SDTM.1.7"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ds_json</span> <span class="op">&lt;-</span> <span class="fu"><a href="dataset_metadata_setters.html">set_item_oid</a></span><span class="op">(</span><span class="va">ds_json</span>, <span class="st">"IG.IRIS"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ds_json</span> <span class="op">&lt;-</span> <span class="fu"><a href="dataset_metadata_setters.html">set_dataset_name</a></span><span class="op">(</span><span class="va">ds_json</span>, <span class="st">"Iris"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ds_json</span> <span class="op">&lt;-</span> <span class="fu"><a href="dataset_metadata_setters.html">set_dataset_label</a></span><span class="op">(</span><span class="va">ds_json</span>, <span class="st">"The Iris Dataset"</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Mike Stackhouse, Nicholas Masel.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

